/**
 * Database manager, controls access to utilizies for accessing DB
 * @author kvermeer
 */
var Sequelize = require('sequelize');

function DatabaseManager() {}

// Public Static
DatabaseManager.Sequelize = Sequelize;

/**
 * Returns the sequelize instance to be used throughout the app
 */
DatabaseManager.getSequelizeInstance = function() {
    return DatabaseManager._sequelize;
}

// Private static
DatabaseManager._sequelize = new Sequelize(process.env.DATABASE_URL, {
    pool: {
        max: 5,
        min: 0,
        idle: 10000
    },
    dialect: 'postgres',
    dialectOptions: {
        ssl: true
    },
    logging: false
});

module.exports = DatabaseManager;
