var Sequelize = require('sequelize');

var sequelize = new Sequelize(process.env.DATABASE_URL, {
    pool: {
        max: 5,
        min: 0,
        idle: 10000
    },
    dialect: 'postgres',
    dialectOptions: {
        ssl: true
    },
    logging: false
});

var Nugget = sequelize.define('nugget', {
    nugget_id: { type: Sequelize.BIGINT, primaryKey: true, autoIncrement: true },
    user_id: { type: Sequelize.BIGINT },
    content_markup_format: { type: Sequelize.STRING },
    content: { type: Sequelize.TEXT },
    created_at: { type: Sequelize.DATE },
    updated_at: { type: Sequelize.DATE }
}, {
    freezeTableName: true,
    tableName: 'nugget',
    underscored: true,
    timestamps: true,
});

module.exports = Nugget;
