/**
 * This creates a router for nugget operations
 * @author kvermeer
 */

var express = require('express');
var Authentication = require('middleware').Authentication;
var router = express.Router();

var ControllerModule = require('./controllers');
var nuggetController = new ControllerModule.NuggetController();
var userNuggetController = new ControllerModule.UserNuggetController();

router.get('/create', Authentication.requireAuthentication, nuggetController.createNuggetPage.bind(nuggetController));
router.post('/create', Authentication.requireAuthentication, nuggetController.createNuggetSubmit.bind(nuggetController));
router.get('/:nuggetId', Authentication.requireAuthentication, nuggetController.viewNugget.bind(nuggetController));
router.get('/user/:userId', Authentication.requireAuthentication, userNuggetController.viewNuggetsForUser.bind(userNuggetController));

module.exports = router;
